
function getRandomInt(max) {
  return Math.floor(Math.random() * max);
}

function choose(choices) {
  var index = Math.floor(Math.random() * choices.length);
  return choices[index];
}

const sleep = (milliseconds) => {
  return new Promise(resolve => setTimeout(resolve, milliseconds))
}
function printTitle() {
    var imgBig = `
    00000000000000000000000000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555550000000000000000000000000000000000000000000555555500000000000000000000000000000000000000000005555555000000000000000000000000000000000000000000055555550000000000000000000000000000000000000000000555555500000000000000000000000000000000000000000005555555000000000000000000000000000000000000000000055555550000000000000000000000000005555555555555555555555500000000000000000000000000055555555555555555555555000000000000000000000000000555555555555555555555550000000000000000000000000005555555555555555555555500000000000000000000000000055555555555555555555555000000000000000000000000000555555555555555555555550000000000000000000000000005555555555555555555555300000000000000000000000000055555555555555555555530000000000000000000000000000555555555555555555553000000000000000000000000000005555555555555555555300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555554000000555555500000000000000000000000000000055555540000005555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555555555555555555555555555555000000000000000000005555555555555555555555555555550000000000000000000055555555555555555555555555555500000000000000000000555555555555555555555555555555000000000000000000005555555555555555555555555555550000000000000000000055555555555555555555555555555500000000000000000000555555555555555555555555555555000000000000000000005555555555555555555555555555550000000000000000000055555555555555555555555555555500000000000000000000555555555555555555555555555555000000000000000000000000000000555555400000000000000000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555505555555555555500000000000000000000000000000055555055555555555555000000000000000000000000000000555550555555555555550000000000000000000000000000005555505555555555555500000000000000000000000000000055555055555555555555000000000000000000000000000000555550555555555555550000000000000000000000000000005555505555555555555500000000000000000000000000000055555055555555555555000000000000000000000000000000555550555555555555550000000000000000000000000000005555505555000555555500000000000000000000000000000055555255552225555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555551222000000000000000000000000000000555555555555555540000000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000000055555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555400000000000000000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000444555555555555555550000000000000000000000000000000005555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555554000000000000000000000000000000000000000000055555540000000000000000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555555555555555550000000000000000000000000000005555555555555555555500000000000000000000000000000055555555555555555555000000000000000000000000000000555555400055505555550000000000000000000000000000005555555555555055555500000000000000000000000000000055555555555550555555000000000000000000000000000000555555555555505555550000000000000000000000000000005555555555555055555500000000000000000000000000000055555555555550555555000000000000000000000000000000555555555555505555550000000000000000000000000000005555555555555055555500000000000000000000000000000055555555555550555555000000000000000000000000000000555555555555505555550000000000000000000000000000005555555555555055555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555555555055555500000000000000000000000000000055555555555550555555000000000000000000000000000000555555555555505555550000000000000000000000000000005555555555555055555500000000000000000000000000000055555555555550555555000000000000000000000000000000555555555555505555550000000000000000000000000000005555555555555055555500000000000000000000000000000055555055555550555555000000000000000000000000000000555550555555505555550000000000000000000000000000005555505555555055555500000000000000000000000000000055555055555550555555000000000000000000000000000000555550555555555555550000000000000000000000000000005555505555555555555500000000000000000000000000000055555055555555555555000000000000000000000000000000555550555555555555550000000000000000000000000000005555505555555555555500000000000000000000000000000055555055555555555555000000000000000000000000000000555550555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    `  // ratio 196x50
    var imgSmall = `
    000000000000000000000000000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000005550005500000000000000000000000000000000000000000055500055000000000000000000000000000000000000000000555000550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555555500000000000000000000000000000000000000000005555555000000000000000000000000000000000000000000055555550000000000000000000000000000000000000000000555555500000000000000000000000000000000000000000005555555000000000000000000000000000000000000000000055555550000000000000000000000000000000000000000000555555500000000000000000000000000055555555555555555555555000000000000000000000000000555555555555555555555550000000000000000000000000005555555555555555555555500000000000000000000000000055555555555555555555555000000000000000000000000000555555555555555555555550000000000000000000000000005555555555555555555555500000000000000000000000000055555555555555555555553000000000000000000000000000555555555555555555555300000000000000000000000000005555555555555555555530000000000000000000000000000055555555555555555553000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    `  // ratio 196x50
    var width = 196;
    var height = 50;  // not strictly needed
    var resizeFactor = 4;
    var img;
    if (width * resizeFactor * 1.1 < window.innerWidth) {
        img = imgBig;
    } else {
        console.log('got here');
        img = imgSmall
        width = 39  // just manually put in the cropped width
    }
    var resizedWidth = width*resizeFactor
    var resizedHeight = height*resizeFactor
    const ctx = canvas.getContext('2d');
    canvas.width = resizedWidth;
    canvas.height = resizedHeight;

    ctx.lineWidth = 2
    var i = 0

    const runAsyncForLoop = async () => {
        for (char of img.replace(/\s+/g, '')) {
            if (char !== '0') {
                col = i % height
                row = (i - col) / height
                resizedCol = resizeFactor * col
                resizedRow = resizeFactor * row
                paintBlock(ctx, resizedRow, resizedCol);
                // await sleep(0.001);
            };
            i++
        };
    };
    runAsyncForLoop();
};
function paintBlock(context, row, col) {
        rubiksColours = ['#009b48', '#ffffff', '#b71234', '#ffd500', '#0046ad', '#ff5800']
        context.beginPath();
        context.fillStyle = choose(rubiksColours);
        context.strokeStyle = 'black';
        context.rect(row, col, 4, 4);
        context.fill();
        context.stroke();
};

printTitle();  // HAVE TO CALL FROM WITHIN HERE
